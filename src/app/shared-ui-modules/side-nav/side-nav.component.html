<ng-container *ngIf="featuredTags$ | async">
  <div
    class="wrapper w-full xl:sticky align-self-center flex flex-column align-content-center justify-content-center overflow-x-hidden relative"
  >
    <!-- <p-divider align="center" styleClass="p-divider-no-background">
      <span class="p-tag p-tag-info">
        <i class="pi pi-star mr-2"></i>
      </span>
    </p-divider> -->
    <!-- <div class="p-tag p-tag-info w-max">FEATURED CATEGORIES</div> -->

    <ng-container
      *ngFor="let featured of featuredTags$ | async; let index = index"
    >
      <div
        *ngIf="
          index < (this.showAll ? (featuredTags$ | async)?.length || 100 : 8)
        "
        class="mt-3 border-none border-solid border-bottom-2 w-full h-auto py-2 px-3 text-darkblue hover:text-pink-500 cursor-pointer featured-category transition-duration-200 transition-all transition-ease-in-out"
        [routerLinkActive]="'text-pink-500 active'"
        (click)="getRelatedArtciles(featured)"
      >
        <!-- [routerLink]="['articles', 'tag', featured?.slug]" -->

        {{ featured?.name }}
      </div>
    </ng-container>
    <button
      *ngIf="(featuredTags$ | async)?.length! > 8 ?? false"
      pButton
      class="cursor-pointer mt-4 w-max p-3 ml-3 p-button-secondary mb-2"
      (click)="viewMore()"
      [icon]="showAll ? 'pi pi-arrow-up' : 'pi pi-arrow-down'"
    >
      View {{ showAll ? 'less ' : 'more ' }} &nbsp;&nbsp;
    </button>
  </div>
</ng-container>

<p-sidebar
  [(visible)]="display"
  position="left"
  [modal]="false"
  styleClass="sidemenu lg:col-offset-3 xl:col-offset-2 z-5 w-12 lg:w-3"
  [style]=""
  [baseZIndex]="10"
  [blockScroll]="true"
>
  <div class="mt-0 lg:mt-3 h-full">
    <button
      pButton
      icon="pi pi-times"
      class="hidden lg:flex p-button-secondary p-button-text p-button-outlined align-content-center justify-content-center mb-3"
      (click)="this.display = false"
    ></button>

    <i
      class="pi pi-spin pi-spinner"
      *ngIf="loading$ | async; else show"
      style="font-size: 4rem"
    ></i>
    <ng-template #show>
      <ul>
        <ng-container *ngFor="let article of articles$ | async">
          <li>
            <p
              (click)="readArticle(article)"
              class="cursor-pointer hover-underline fadein text-lg hover:text-blue-900"
            >
              {{ article.title }}
            </p>
          </li>
        </ng-container>
      </ul>
    </ng-template>
  </div>
</p-sidebar>
