<div
  *ngIf="forum$ | async; else loading"
  class="px-3 md:px-8 p-component relative"
>
  <div
    class="flex justify-content-between sticky forum-title relative bg-white"
  >
    <div class="text-2xl font-bold">
      FORUM: {{ (forum$ | async)?.name | uppercase }}
    </div>
  </div>
  <p class="text-xs text-blue-500 mt-2 md:mt-1">
    {{ (forum$ | async)?.created_on | date: 'fullDate' }}
  </p>

  <div class="mt-3">
    {{ (forum$ | async)?.description }}

    <hr class="my-4" />
    <div
      class="flex justify-content-between align-items-center flex-column md:flex-row"
    >
      <div
        class="col-9 justify-content-between align-items-center"
        *ngIf="(forum$ | async)?.tags?.length"
      >
        <i class="pi pi-tag text-blue-700 mr-2"></i>
        <span
          *ngFor="let tag of (forum$ | async)?.tags"
          class="p-tag p-tag-info mr-2"
        >
          {{ tag.name }}
        </span>
      </div>
      <button
        pButton
        icon="pi pi-plus"
        class="w-13rem col-12 md:col-3 p-button-outlined p-button-secondary align-self-end"
        label="Add Forum Post"
        proceedIfLoggedIn
        (onProceed)="goToAddForumPost()"
      ></button>
    </div>
  </div>
  <ng-container *ngIf="forumPosts$ | async">
    <div
      class="text-center text-darkblue text-xl font-semibold my-6 p-component border-none mb-1"
    >
      <i class="pi pi-comments text-xl mr-3"></i>
      TOPICS UNDER DISCUSSION
    </div>

    <div class="mb-5" *ngFor="let forumPosts of forumPosts$ | async">
      <app-forum-post-card [forumPost]="forumPosts"></app-forum-post-card>
    </div>
  </ng-container>
</div>
<ng-template #loading>
  <app-forum-loading-card></app-forum-loading-card>
</ng-template>

