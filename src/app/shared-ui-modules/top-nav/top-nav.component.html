<div class="bg-light-blue flex justify-content-between 4-rem p-1 sticky z-1">

  <!-- start  -->
  <div
        class="flex align-content-center flex-row justify-content-between ml-2"
      >
        <div class="lg:hidden mr-3">
          <app-back-button></app-back-button>
        </div>
  
        <div
          class="text-lg justify-content-center text-darkblue font-bold fadein text-white animation-duration-500 animation-ease-in-out cursor-pointer align-self-center"
          routerLink="/"
        >
        <!-- home and home icon -->
              <span class="hidden lg:block text-darkblue text-xl">
                MSME GATEWAY              
                  <i class="pi pi-home"></i>
              </span>
              <span class="text-darkblue lg:hidden text-xl">
                <i class="pi pi-home" style="font-size: 2rem;"></i>
              </span>
          <!-- <em class="text-xs">One stop for information</em> -->
        </div>    
  </div>
  
  <!-- menu -->
  <p-menubar
    [model]="(items$ | async) || []"
    [autoDisplay]="true"
    styleClass=" border-none border-noround p-divider-no-background p-2"
  >
  </p-menubar>
  
  <!-- search -->
  <ng-container>
    <div class="md:hidden justify-content-between align-items-center mobile-search-menu">
      <ng-container [ngTemplateOutlet]="search"></ng-container>
      <ng-container [ngTemplateOutlet]="userLoginMenu"></ng-container>
    </div>
  </ng-container>
  <div
    class="absolute w-full h-4rem mt-6 hidden surface-600 animation-duration-500 animation-ease-out justify-content-center align-items-center fadeinup p-1 searchButton xl:hidden"
  >
    <div>
      <ng-container [ngTemplateOutlet]="search"></ng-container>
    </div>
  </div>

  <div class="hidden xl:block mx-2 align-items-center">
    <ng-container [ngTemplateOutlet]="search"></ng-container>
  </div>

  <div class="flex justify-content-between align-items-center">
    <button
      class="xl:hidden p-button-outlined p-button-rounded p-button-secondary mr-1"
      icon="pi pi-search"
      pStyleClass=".searchButton"
      enterClass="hidden"
      enterActiveClass="flex"
      enterToClass="flex"
      leaveClass="flex"
      leaveActiveClass="fadeoutup"
      leaveToClass="hidden" 
      pButton
    ></button>
    <div class="md:hidden flex justify-content-between align-items-center">
      <ng-container [ngTemplateOutlet]="userLoginMenu"></ng-container>
    </div>
  </div>


</div>


<ng-template #search>
  <div class="flex justify-content-center align-items-center">
    <input
      type="text"
      pInputText
      class="w-auto mr-1"
      placeholder="What are you looking for?"
      [formControl]="searchInputControl"
      enterPressed
      (onEnterPressed)="searchTerm()"
    />
    <button
      pButton
      icon="pi pi-search"
      class="p-button-rounded p-button-secondary"
      [disabled]="searchInputControl.invalid"
      (click)="$event.stopPropagation(); searchTerm()"
      pStyleClass=".searchButton"
      enterClass="hidden"
      enterActiveClass="flex"
      enterToClass="flex"
      leaveClass="flex"
      leaveActiveClass="fadeoutup"
      leaveToClass="hidden"
    ></button>
  </div>
</ng-template>

<ng-template #userLoginMenu>
  <app-login-button></app-login-button>
</ng-template>
